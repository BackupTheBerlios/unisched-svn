<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>University Scheduling System: C:/xampp/htdocs/uss2/lib/datejs/parser.js Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>C:/xampp/htdocs/uss2/lib/datejs/parser.js</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00008"></a>00008 (function(){Date.Parsing={Exception:function(s){this.message=<span class="stringliteral">"Parse error at '"</span>+s.substring(0,10)+<span class="stringliteral">" ...'"</span>;}};var $P=Date.Parsing;var _=$P.Operators={rtoken:function(r){<span class="keywordflow">return</span> function(s){var mx=s.match(r);<span class="keywordflow">if</span>(mx){<span class="keywordflow">return</span>([mx[0],s.substring(mx[0].length)]);}<span class="keywordflow">else</span>{<span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(s);}};},token:function(s){<span class="keywordflow">return</span> function(s){<span class="keywordflow">return</span> _.rtoken(<span class="keyword">new</span> RegExp(<span class="stringliteral">"^\s*"</span>+s+<span class="stringliteral">"\s*"</span>))(s);};},stoken:function(s){<span class="keywordflow">return</span> _.rtoken(<span class="keyword">new</span> RegExp(<span class="stringliteral">"^"</span>+s));},until:function(p){<span class="keywordflow">return</span> function(s){var qx=[],rx=null;<span class="keywordflow">while</span>(s.length){<span class="keywordflow">try</span>{rx=p.call(<span class="keyword">this</span>,s);}<span class="keywordflow">catch</span>(e){qx.push(rx[0]);s=rx[1];<span class="keywordflow">continue</span>;}
<a name="l00009"></a>00009 <span class="keywordflow">break</span>;}
<a name="l00010"></a>00010 <span class="keywordflow">return</span>[qx,s];};},many:function(p){<span class="keywordflow">return</span> function(s){var rx=[],r=null;<span class="keywordflow">while</span>(s.length){<span class="keywordflow">try</span>{r=p.call(<span class="keyword">this</span>,s);}<span class="keywordflow">catch</span>(e){<span class="keywordflow">return</span>[rx,s];}
<a name="l00011"></a>00011 rx.push(r[0]);s=r[1];}
<a name="l00012"></a>00012 <span class="keywordflow">return</span>[rx,s];};},optional:function(p){<span class="keywordflow">return</span> function(s){var r=null;<span class="keywordflow">try</span>{r=p.call(<span class="keyword">this</span>,s);}<span class="keywordflow">catch</span>(e){<span class="keywordflow">return</span>[null,s];}
<a name="l00013"></a>00013 <span class="keywordflow">return</span>[r[0],r[1]];};},not:function(p){<span class="keywordflow">return</span> function(s){<span class="keywordflow">try</span>{p.call(<span class="keyword">this</span>,s);}<span class="keywordflow">catch</span>(e){<span class="keywordflow">return</span>[null,s];}
<a name="l00014"></a>00014 <span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(s);};},ignore:function(p){<span class="keywordflow">return</span> p?function(s){var r=null;r=p.call(<span class="keyword">this</span>,s);<span class="keywordflow">return</span>[null,r[1]];}:null;},product:function(){var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[];<span class="keywordflow">for</span>(var i=0;i&lt;px.length;i++){rx.push(_.each(px[i],qx));}
<a name="l00015"></a>00015 <span class="keywordflow">return</span> rx;},cache:function(rule){var cache={},r=null;<span class="keywordflow">return</span> function(s){<span class="keywordflow">try</span>{r=cache[s]=(cache[s]||rule.call(<span class="keyword">this</span>,s));}<span class="keywordflow">catch</span>(e){r=cache[s]=e;}
<a name="l00016"></a>00016 <span class="keywordflow">if</span>(r instanceof $P.Exception){<span class="keywordflow">throw</span> r;}<span class="keywordflow">else</span>{<span class="keywordflow">return</span> r;}};},any:function(){var px=arguments;<span class="keywordflow">return</span> function(s){var r=null;<span class="keywordflow">for</span>(var i=0;i&lt;px.length;i++){<span class="keywordflow">if</span>(px[i]==null){<span class="keywordflow">continue</span>;}
<a name="l00017"></a>00017 <span class="keywordflow">try</span>{r=(px[i].call(<span class="keyword">this</span>,s));}<span class="keywordflow">catch</span>(e){r=null;}
<a name="l00018"></a>00018 <span class="keywordflow">if</span>(r){<span class="keywordflow">return</span> r;}}
<a name="l00019"></a>00019 <span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(s);};},each:function(){var px=arguments;<span class="keywordflow">return</span> function(s){var rx=[],r=null;<span class="keywordflow">for</span>(var i=0;i&lt;px.length;i++){<span class="keywordflow">if</span>(px[i]==null){<span class="keywordflow">continue</span>;}
<a name="l00020"></a>00020 <span class="keywordflow">try</span>{r=(px[i].call(<span class="keyword">this</span>,s));}<span class="keywordflow">catch</span>(e){<span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(s);}
<a name="l00021"></a>00021 rx.push(r[0]);s=r[1];}
<a name="l00022"></a>00022 <span class="keywordflow">return</span>[rx,s];};},all:function(){var px=arguments,_=_;<span class="keywordflow">return</span> _.each(_.optional(px));},sequence:function(px,d,c){d=d||_.rtoken(/^\s*/);c=c||null;<span class="keywordflow">if</span>(px.length==1){<span class="keywordflow">return</span> px[0];}
<a name="l00023"></a>00023 <span class="keywordflow">return</span> function(s){var r=null,q=null;var rx=[];<span class="keywordflow">for</span>(var i=0;i&lt;px.length;i++){<span class="keywordflow">try</span>{r=px[i].call(<span class="keyword">this</span>,s);}<span class="keywordflow">catch</span>(e){<span class="keywordflow">break</span>;}
<a name="l00024"></a>00024 rx.push(r[0]);<span class="keywordflow">try</span>{q=d.call(<span class="keyword">this</span>,r[1]);}<span class="keywordflow">catch</span>(ex){q=null;<span class="keywordflow">break</span>;}
<a name="l00025"></a>00025 s=q[1];}
<a name="l00026"></a>00026 <span class="keywordflow">if</span>(!r){<span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(s);}
<a name="l00027"></a>00027 <span class="keywordflow">if</span>(q){<span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(q[1]);}
<a name="l00028"></a>00028 <span class="keywordflow">if</span>(c){<span class="keywordflow">try</span>{r=c.call(<span class="keyword">this</span>,r[1]);}<span class="keywordflow">catch</span>(ey){<span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(r[1]);}}
<a name="l00029"></a>00029 <span class="keywordflow">return</span>[rx,(r?r[1]:s)];};},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));<span class="keywordflow">return</span> function(s){var rx=_fn.call(<span class="keyword">this</span>,s);<span class="keywordflow">return</span>[[rx[0][0],r[0][2]],rx[1]];};},list:function(p,d,c){d=d||_.rtoken(/^\s*/);c=c||null;<span class="keywordflow">return</span>(p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c)));},<span class="keyword">set</span>:function(px,d,c){d=d||_.rtoken(/^\s*/);c=c||null;<span class="keywordflow">return</span> function(s){var r=null,p=null,q=null,rx=null,best=[[],s],last=<span class="keyword">false</span>;<span class="keywordflow">for</span>(var i=0;i&lt;px.length;i++){q=null;p=null;r=null;last=(px.length==1);<span class="keywordflow">try</span>{r=px[i].call(<span class="keyword">this</span>,s);}<span class="keywordflow">catch</span>(e){<span class="keywordflow">continue</span>;}
<a name="l00030"></a>00030 rx=[[r[0]],r[1]];<span class="keywordflow">if</span>(r[1].length&gt;0&amp;&amp;!last){<span class="keywordflow">try</span>{q=d.call(<span class="keyword">this</span>,r[1]);}<span class="keywordflow">catch</span>(ex){last=<span class="keyword">true</span>;}}<span class="keywordflow">else</span>{last=<span class="keyword">true</span>;}
<a name="l00031"></a>00031 <span class="keywordflow">if</span>(!last&amp;&amp;q[1].length===0){last=<span class="keyword">true</span>;}
<a name="l00032"></a>00032 <span class="keywordflow">if</span>(!last){var qx=[];<span class="keywordflow">for</span>(var j=0;j&lt;px.length;j++){<span class="keywordflow">if</span>(i!=j){qx.push(px[j]);}}
<a name="l00033"></a>00033 p=_.set(qx,d).call(<span class="keyword">this</span>,q[1]);<span class="keywordflow">if</span>(p[0].length&gt;0){rx[0]=rx[0].concat(p[0]);rx[1]=p[1];}}
<a name="l00034"></a>00034 <span class="keywordflow">if</span>(rx[1].length&lt;best[1].length){best=rx;}
<a name="l00035"></a>00035 <span class="keywordflow">if</span>(best[1].length===0){<span class="keywordflow">break</span>;}}
<a name="l00036"></a>00036 <span class="keywordflow">if</span>(best[0].length===0){<span class="keywordflow">return</span> best;}
<a name="l00037"></a>00037 <span class="keywordflow">if</span>(c){<span class="keywordflow">try</span>{q=c.call(<span class="keyword">this</span>,best[1]);}<span class="keywordflow">catch</span>(ey){<span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(best[1]);}
<a name="l00038"></a>00038 best[1]=q[1];}
<a name="l00039"></a>00039 <span class="keywordflow">return</span> best;};},forward:function(gr,fname){<span class="keywordflow">return</span> function(s){<span class="keywordflow">return</span> gr[fname].call(<span class="keyword">this</span>,s);};},replace:function(rule,repl){<span class="keywordflow">return</span> function(s){var r=rule.call(<span class="keyword">this</span>,s);<span class="keywordflow">return</span>[repl,r[1]];};},process:function(rule,fn){<span class="keywordflow">return</span> function(s){var r=rule.call(<span class="keyword">this</span>,s);<span class="keywordflow">return</span>[fn.call(<span class="keyword">this</span>,r[0]),r[1]];};},min:function(min,rule){<span class="keywordflow">return</span> function(s){var rx=rule.call(<span class="keyword">this</span>,s);<span class="keywordflow">if</span>(rx[0].length&lt;min){<span class="keywordflow">throw</span> <span class="keyword">new</span> $P.Exception(s);}
<a name="l00040"></a>00040 <span class="keywordflow">return</span> rx;};}};var _generator=function(op){<span class="keywordflow">return</span> function(){var args=null,rx=[];<span class="keywordflow">if</span>(arguments.length&gt;1){args=Array.prototype.slice.call(arguments);}<span class="keywordflow">else</span> <span class="keywordflow">if</span>(arguments[0]instanceof Array){args=arguments[0];}
<a name="l00041"></a>00041 <span class="keywordflow">if</span>(args){<span class="keywordflow">for</span>(var i=0,px=args.shift();i&lt;px.length;i++){args.unshift(px[i]);rx.push(op.apply(null,args));args.shift();<span class="keywordflow">return</span> rx;}}<span class="keywordflow">else</span>{<span class="keywordflow">return</span> op.apply(null,arguments);}};};var gx=<span class="stringliteral">"optional not ignore cache"</span>.split(/\s/);<span class="keywordflow">for</span>(var i=0;i&lt;gx.length;i++){_[gx[i]]=_generator(_[gx[i]]);}
<a name="l00042"></a>00042 var _vector=function(op){<span class="keywordflow">return</span> function(){<span class="keywordflow">if</span>(arguments[0]instanceof Array){<span class="keywordflow">return</span> op.apply(null,arguments[0]);}<span class="keywordflow">else</span>{<span class="keywordflow">return</span> op.apply(null,arguments);}};};var vx=<span class="stringliteral">"each any all"</span>.split(/\s/);<span class="keywordflow">for</span>(var j=0;j&lt;vx.length;j++){_[vx[j]]=_vector(_[vx[j]]);}}());(function(){var flattenAndCompact=function(ax){var rx=[];<span class="keywordflow">for</span>(var i=0;i&lt;ax.length;i++){<span class="keywordflow">if</span>(ax[i]instanceof Array){rx=rx.concat(flattenAndCompact(ax[i]));}<span class="keywordflow">else</span>{<span class="keywordflow">if</span>(ax[i]){rx.push(ax[i]);}}}
<a name="l00043"></a>00043 <span class="keywordflow">return</span> rx;};Date.Grammar={};Date.Translator={hour:function(s){<span class="keywordflow">return</span> function(){this.hour=Number(s);};},minute:function(s){<span class="keywordflow">return</span> function(){this.minute=Number(s);};},second:function(s){<span class="keywordflow">return</span> function(){this.second=Number(s);};},meridian:function(s){<span class="keywordflow">return</span> function(){this.meridian=s.slice(0,1).toLowerCase();};},timezone:function(s){<span class="keywordflow">return</span> function(){var n=s.replace(/[^\d\+\-]/g,<span class="stringliteral">""</span>);<span class="keywordflow">if</span>(n.length){this.timezoneOffset=Number(n);}<span class="keywordflow">else</span>{this.timezone=s.toLowerCase();}};},day:function(x){var s=x[0];<span class="keywordflow">return</span> function(){this.day=Number(s.match(/\d+/)[0]);};},month:function(s){<span class="keywordflow">return</span> function(){this.month=((s.length==3)?Date.getMonthNumberFromName(s):(Number(s)-1));};},year:function(s){<span class="keywordflow">return</span> function(){var n=Number(s);this.year=((s.length&gt;2)?n:(n+(((n+2000)&lt;Date.CultureInfo.twoDigitYearMax)?2000:1900)));};},rday:function(s){<span class="keywordflow">return</span> function(){<span class="keywordflow">switch</span>(s){<span class="keywordflow">case</span><span class="stringliteral">"yesterday"</span>:this.days=-1;<span class="keywordflow">break</span>;<span class="keywordflow">case</span><span class="stringliteral">"tomorrow"</span>:this.days=1;<span class="keywordflow">break</span>;<span class="keywordflow">case</span><span class="stringliteral">"today"</span>:this.days=0;<span class="keywordflow">break</span>;<span class="keywordflow">case</span><span class="stringliteral">"now"</span>:this.days=0;this.now=<span class="keyword">true</span>;<span class="keywordflow">break</span>;}};},finishExact:function(x){x=(x instanceof Array)?x:[x];var now=<span class="keyword">new</span> Date();this.year=now.getFullYear();this.month=now.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;<span class="keywordflow">for</span>(var i=0;i&lt;x.length;i++){<span class="keywordflow">if</span>(x[i]){x[i].call(<span class="keyword">this</span>);}}
<a name="l00044"></a>00044 this.hour=(this.meridian==<span class="stringliteral">"p"</span>&amp;&amp;this.hour&lt;13)?this.hour+12:this.hour;<span class="keywordflow">if</span>(this.day&gt;Date.getDaysInMonth(<span class="keyword">this</span>.year,<span class="keyword">this</span>.month)){<span class="keywordflow">throw</span> <span class="keyword">new</span> RangeError(this.day+<span class="stringliteral">" is not a valid value for days."</span>);}
<a name="l00045"></a>00045 var r=<span class="keyword">new</span> Date(this.year,this.month,this.day,this.hour,this.minute,this.second);<span class="keywordflow">if</span>(this.timezone){r.set({timezone:this.timezone});}<span class="keywordflow">else</span> <span class="keywordflow">if</span>(this.timezoneOffset){r.set({timezoneOffset:this.timezoneOffset});}
<a name="l00046"></a>00046 <span class="keywordflow">return</span> r;},finish:function(x){x=(x instanceof Array)?flattenAndCompact(x):[x];<span class="keywordflow">if</span>(x.length===0){<span class="keywordflow">return</span> null;}
<a name="l00047"></a>00047 <span class="keywordflow">for</span>(var i=0;i&lt;x.length;i++){<span class="keywordflow">if</span>(typeof x[i]==<span class="stringliteral">"function"</span>){x[i].call(<span class="keyword">this</span>);}}
<a name="l00048"></a>00048 <span class="keywordflow">if</span>(this.now){<span class="keywordflow">return</span> <span class="keyword">new</span> Date();}
<a name="l00049"></a>00049 var today=Date.today();var method=null;var expression=!!(this.days!=null||this.orient||this.operator);if(expression){var gap,mod,orient;orient=((this.orient==<span class="stringliteral">"past"</span>||this.operator=="subtract")?-1:1);if(this.weekday){this.unit=<span class="stringliteral">"day"</span>;gap=(Date.getDayNumberFromName(this.weekday)-today.getDay());mod=7;this.days=gap?((gap+(orient*mod))%mod):(orient*mod);}
<a name="l00050"></a>00050 <span class="keywordflow">if</span>(this.month){this.unit=<span class="stringliteral">"month"</span>;gap=(this.month-today.getMonth());mod=12;this.months=gap?((gap+(orient*mod))%mod):(orient*mod);this.month=null;}
<a name="l00051"></a>00051 <span class="keywordflow">if</span>(!this.unit){this.unit=<span class="stringliteral">"day"</span>;}
<a name="l00052"></a>00052 <span class="keywordflow">if</span>(<span class="keyword">this</span>[this.unit+<span class="stringliteral">"s"</span>]==null||this.<span class="keyword">operator</span>!=null){<span class="keywordflow">if</span>(!this.value){this.value=1;}
<a name="l00053"></a>00053 <span class="keywordflow">if</span>(this.unit==<span class="stringliteral">"week"</span>){this.unit=<span class="stringliteral">"day"</span>;this.value=this.value*7;}
<a name="l00054"></a>00054 <span class="keyword">this</span>[this.unit+<span class="stringliteral">"s"</span>]=this.value*orient;}
<a name="l00055"></a>00055 <span class="keywordflow">return</span> today.add(<span class="keyword">this</span>);}<span class="keywordflow">else</span>{<span class="keywordflow">if</span>(this.meridian&amp;&amp;this.hour){this.hour=(this.hour&lt;13&amp;&amp;this.meridian==<span class="stringliteral">"p"</span>)?this.hour+12:this.hour;}
<a name="l00056"></a>00056 <span class="keywordflow">if</span>(this.weekday&amp;&amp;!this.day){this.day=(today.addDays((Date.getDayNumberFromName(<span class="keyword">this</span>.weekday)-today.getDay()))).getDate();}
<a name="l00057"></a>00057 <span class="keywordflow">if</span>(this.month&amp;&amp;!this.day){this.day=1;}
<a name="l00058"></a>00058 <span class="keywordflow">return</span> today.set(<span class="keyword">this</span>);}}};var _=Date.Parsing.Operators,g=Date.Grammar,t=Date.Translator,_fn;g.datePartDelimiter=_.rtoken(/^([\s\-\.\,\/\x27]+)/);g.timePartDelimiter=_.stoken(<span class="stringliteral">":"</span>);g.whiteSpace=_.rtoken(/^\s*/);g.generalDelimiter=_.rtoken(/^(([\s\,]|at|on)+)/);var _C={};g.ctoken=function(keys){var fn=_C[keys];<span class="keywordflow">if</span>(!fn){var c=Date.CultureInfo.regexPatterns;var kx=keys.split(/\s+/),px=[];<span class="keywordflow">for</span>(var i=0;i&lt;kx.length;i++){px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]));}
<a name="l00059"></a>00059 fn=_C[keys]=_.any.apply(null,px);}
<a name="l00060"></a>00060 <span class="keywordflow">return</span> fn;};g.ctoken2=function(key){<span class="keywordflow">return</span> _.rtoken(Date.CultureInfo.regexPatterns[key]);};g.h=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour));g.hh=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/),t.hour));g.H=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour));g.HH=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour));g.m=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.minute));g.mm=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.minute));g.s=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.second));g.ss=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.second));g.hms=_.cache(_.sequence([g.H,g.mm,g.ss],g.timePartDelimiter));g.t=_.cache(_.process(g.ctoken2(<span class="stringliteral">"shortMeridian"</span>),t.meridian));g.tt=_.cache(_.process(g.ctoken2(<span class="stringliteral">"longMeridian"</span>),t.meridian));g.z=_.cache(_.process(_.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),t.timezone));g.zz=_.cache(_.process(_.rtoken(/^(\+|\-)\s*\d\d\d\d/),t.timezone));g.zzz=_.cache(_.process(g.ctoken2(<span class="stringliteral">"timezone"</span>),t.timezone));g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz]));g.time=_.each(_.optional(_.ignore(_.stoken(<span class="stringliteral">"T"</span>))),g.hms,g.timeSuffix);g.d=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1]|\d)/),_.optional(g.ctoken2(<span class="stringliteral">"ordinalSuffix"</span>))),t.day));g.dd=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1])/),_.optional(g.ctoken2(<span class="stringliteral">"ordinalSuffix"</span>))),t.day));g.ddd=g.dddd=_.cache(_.process(g.ctoken(<span class="stringliteral">"sun mon tue wed thu fri sat"</span>),function(s){<span class="keywordflow">return</span> function(){this.weekday=s;};}));g.M=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d|\d)/),t.month));g.MM=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d)/),t.month));g.MMM=g.MMMM=_.cache(_.process(g.ctoken(<span class="stringliteral">"jan feb mar apr may jun jul aug sep oct nov dec"</span>),t.month));g.y=_.cache(_.process(_.rtoken(/^(\d\d?)/),t.year));g.yy=_.cache(_.process(_.rtoken(/^(\d\d)/),t.year));g.yyy=_.cache(_.process(_.rtoken(/^(\d\d?\d?\d?)/),t.year));g.yyyy=_.cache(_.process(_.rtoken(/^(\d\d\d\d)/),t.year));_fn=function(){<span class="keywordflow">return</span> _.each(_.any.apply(null,arguments),_.not(g.ctoken2(<span class="stringliteral">"timeContext"</span>)));};g.day=_fn(g.d,g.dd);g.month=_fn(g.M,g.MMM);g.year=_fn(g.yyyy,g.yy);g.orientation=_.process(g.ctoken(<span class="stringliteral">"past future"</span>),function(s){<span class="keywordflow">return</span> function(){this.orient=s;};});g.operator=_.process(g.ctoken(<span class="stringliteral">"add subtract"</span>),function(s){<span class="keywordflow">return</span> function(){this.operator=s;};});g.rday=_.process(g.ctoken(<span class="stringliteral">"yesterday tomorrow today now"</span>),t.rday);g.unit=_.process(g.ctoken(<span class="stringliteral">"minute hour day week month year"</span>),function(s){<span class="keywordflow">return</span> function(){this.unit=s;};});g.value=_.process(_.rtoken(/^\d\d?(st|nd|rd|th)?/),function(s){<span class="keywordflow">return</span> function(){this.value=s.replace(/\D/g,<span class="stringliteral">""</span>);};});g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]);_fn=function(){<span class="keywordflow">return</span> _.set(arguments,g.datePartDelimiter);};g.mdy=_fn(g.ddd,g.month,g.day,g.year);g.ymd=_fn(g.ddd,g.year,g.month,g.day);g.dmy=_fn(g.ddd,g.day,g.month,g.year);g.date=function(s){<span class="keywordflow">return</span>((g[Date.CultureInfo.dateElementOrder]||g.mdy).call(<span class="keyword">this</span>,s));};g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){<span class="keywordflow">if</span>(g[fmt]){<span class="keywordflow">return</span> g[fmt];}<span class="keywordflow">else</span>{<span class="keywordflow">throw</span> Date.Parsing.Exception(fmt);}}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){<span class="keywordflow">return</span> _.ignore(_.stoken(s));}))),function(rules){<span class="keywordflow">return</span> _.process(_.each.apply(null,rules),t.finishExact);});var _F={};var _get=function(f){<span class="keywordflow">return</span> _F[f]=(_F[f]||g.format(f)[0]);};g.formats=function(fx){<span class="keywordflow">if</span>(fx instanceof Array){var rx=[];<span class="keywordflow">for</span>(var i=0;i&lt;fx.length;i++){rx.push(_get(fx[i]));}
<a name="l00061"></a>00061 <span class="keywordflow">return</span> _.any.apply(null,rx);}<span class="keywordflow">else</span>{<span class="keywordflow">return</span> _get(fx);}};g._formats=g.formats([<span class="stringliteral">"yyyy-MM-ddTHH:mm:ss"</span>,<span class="stringliteral">"ddd, MMM dd, yyyy H:mm:ss tt"</span>,<span class="stringliteral">"ddd MMM d yyyy HH:mm:ss zzz"</span>,<span class="stringliteral">"d"</span>]);g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish);g.start=function(s){<span class="keywordflow">try</span>{var r=g._formats.call({},s);<span class="keywordflow">if</span>(r[1].length===0){<span class="keywordflow">return</span> r;}}<span class="keywordflow">catch</span>(e){}
<a name="l00062"></a>00062 <span class="keywordflow">return</span> g._start.call({},s);};}());Date._parse=Date.parse;Date.parse=function(s){var r=null;<span class="keywordflow">if</span>(!s){<span class="keywordflow">return</span> null;}
<a name="l00063"></a>00063 <span class="keywordflow">try</span>{r=Date.Grammar.start.call({},s);}<span class="keywordflow">catch</span>(e){<span class="keywordflow">return</span> null;}
<a name="l00064"></a>00064 <span class="keywordflow">return</span>((r[1].length===0)?r[0]:null);};Date.getParseFunction=function(fx){var fn=Date.Grammar.formats(fx);<span class="keywordflow">return</span> function(s){var r=null;<span class="keywordflow">try</span>{r=fn.call({},s);}<span class="keywordflow">catch</span>(e){<span class="keywordflow">return</span> null;}
<a name="l00065"></a>00065 <span class="keywordflow">return</span>((r[1].length===0)?r[0]:null);};};Date.parseExact=function(s,fx){<span class="keywordflow">return</span> Date.getParseFunction(fx)(s);};
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jul 22 11:16:45 2008 for University Scheduling System by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
