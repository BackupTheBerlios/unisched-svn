<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>University Scheduling System: C:/xampp/htdocs/uss2/lib/funcs.php Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>C:/xampp/htdocs/uss2/lib/funcs.php</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00014"></a>00014 <span class="keywordflow">if</span>($_GET[<span class="stringliteral">'lang'</span>]==<span class="stringliteral">"1"</span>) {
<a name="l00015"></a>00015   $trans = array(
<a name="l00016"></a>00016       <span class="stringliteral">'Monday'</span>    =&gt; <span class="stringliteral">'Montag'</span>,
<a name="l00017"></a>00017       <span class="stringliteral">'Tuesday'</span>   =&gt; <span class="stringliteral">'Dienstag'</span>,
<a name="l00018"></a>00018       <span class="stringliteral">'Wednesday'</span> =&gt; <span class="stringliteral">'Mittwoch'</span>,
<a name="l00019"></a>00019       <span class="stringliteral">'Thursday'</span>  =&gt; <span class="stringliteral">'Donnerstag'</span>,
<a name="l00020"></a>00020       <span class="stringliteral">'Friday'</span>    =&gt; <span class="stringliteral">'Freitag'</span>,
<a name="l00021"></a>00021       <span class="stringliteral">'Saturday'</span>  =&gt; <span class="stringliteral">'Samstag'</span>,
<a name="l00022"></a>00022       <span class="stringliteral">'Sunday'</span>    =&gt; <span class="stringliteral">'Sonntag'</span>,
<a name="l00023"></a>00023       <span class="stringliteral">'Mon'</span>       =&gt; <span class="stringliteral">'Mo'</span>,
<a name="l00024"></a>00024       <span class="stringliteral">'Tue'</span>       =&gt; <span class="stringliteral">'Di'</span>,
<a name="l00025"></a>00025       <span class="stringliteral">'Wed'</span>       =&gt; <span class="stringliteral">'Mi'</span>,
<a name="l00026"></a>00026       <span class="stringliteral">'Thu'</span>       =&gt; <span class="stringliteral">'Do'</span>,
<a name="l00027"></a>00027       <span class="stringliteral">'Fri'</span>       =&gt; <span class="stringliteral">'Fr'</span>,
<a name="l00028"></a>00028       <span class="stringliteral">'Sat'</span>       =&gt; <span class="stringliteral">'Sa'</span>,
<a name="l00029"></a>00029       <span class="stringliteral">'Sun'</span>       =&gt; <span class="stringliteral">'So'</span>,
<a name="l00030"></a>00030       <span class="stringliteral">'January'</span>   =&gt; <span class="stringliteral">'Januar'</span>,
<a name="l00031"></a>00031       <span class="stringliteral">'February'</span>  =&gt; <span class="stringliteral">'Februar'</span>,
<a name="l00032"></a>00032       <span class="stringliteral">'March'</span>     =&gt; <span class="stringliteral">'März'</span>,
<a name="l00033"></a>00033       <span class="stringliteral">'May'</span>       =&gt; <span class="stringliteral">'Mai'</span>,
<a name="l00034"></a>00034       <span class="stringliteral">'June'</span>      =&gt; <span class="stringliteral">'Juni'</span>,
<a name="l00035"></a>00035       <span class="stringliteral">'July'</span>      =&gt; <span class="stringliteral">'Juli'</span>,
<a name="l00036"></a>00036       <span class="stringliteral">'October'</span>   =&gt; <span class="stringliteral">'Oktober'</span>,
<a name="l00037"></a>00037       <span class="stringliteral">'December'</span>  =&gt; <span class="stringliteral">'Dezember'</span>,
<a name="l00038"></a>00038   );
<a name="l00039"></a>00039 } <span class="keywordflow">else</span> $trans = array();
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 $wochentage = array(<span class="stringliteral">"Monday"</span>,<span class="stringliteral">"Tuesday"</span>,<span class="stringliteral">"Wednesday"</span>,<span class="stringliteral">"Thursday"</span>,<span class="stringliteral">"Friday"</span>,<span class="stringliteral">"Saturday"</span>,<span class="stringliteral">"Sunday"</span>);
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 
<a name="l00052"></a><a class="code" href="group___p_h_p.html#g6f7b99907943e45ae3d2f531fdff6a48">00052</a> function <a class="code" href="group___p_h_p.html#g6f7b99907943e45ae3d2f531fdff6a48" title="Function connectDB.">connectDB</a>() {
<a name="l00053"></a>00053   $dbh=mysql_connect (<span class="stringliteral">"localhost"</span>, <span class="stringliteral">"root"</span>, <span class="stringliteral">""</span>)
<a name="l00054"></a>00054                 or die (<span class="stringliteral">'Die Datenbank ist gerade nicht aufrufbar.'</span>);
<a name="l00055"></a>00055 
<a name="l00056"></a>00056         mysql_select_db (<span class="stringliteral">"timetable"</span>);
<a name="l00057"></a>00057   <span class="keywordflow">return</span> $dbh;
<a name="l00058"></a>00058 }
<a name="l00059"></a>00059 <a class="code" href="group___p_h_p.html#g6f7b99907943e45ae3d2f531fdff6a48" title="Function connectDB.">connectDB</a>();
<a name="l00060"></a>00060 
<a name="l00071"></a><a class="code" href="group___p_h_p.html#g1573d8b0df1ddc7dea6d65e3eea6b91e">00071</a> function <a class="code" href="group___p_h_p.html#g1573d8b0df1ddc7dea6d65e3eea6b91e" title="Function getLessonAtTime.">getLessonAtTime</a>($timestamp,$bookArr) {
<a name="l00072"></a>00072   <span class="keywordflow">for</span>($i=0;$i&lt;count($bookArr);$i++) {
<a name="l00073"></a>00073     <span class="keywordflow">if</span>($bookArr[$i][1]==$timestamp) {
<a name="l00074"></a>00074       <span class="keywordflow">return</span> $i;
<a name="l00075"></a>00075     }
<a name="l00076"></a>00076   }
<a name="l00077"></a>00077   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00078"></a>00078 }
<a name="l00079"></a>00079 
<a name="l00091"></a><a class="code" href="group___p_h_p.html#g8165525878b668e84be6a59a6cc4f339">00091</a> function <a class="code" href="group___p_h_p.html#g8165525878b668e84be6a59a6cc4f339" title="Function getLessonAtRoomAndTime.">getLessonAtRoomAndTime</a>($timestamp,$room,$bookArr) {
<a name="l00092"></a>00092   <span class="keywordflow">for</span>($i=0;$i&lt;count($bookArr);$i++) { 
<a name="l00093"></a>00093     <span class="keywordflow">if</span>($bookArr[$i][2]==$timestamp &amp;&amp; $bookArr[$i][1]==$room) <span class="keywordflow">return</span> $i;
<a name="l00094"></a>00094   }
<a name="l00095"></a>00095   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00096"></a>00096 }
<a name="l00097"></a>00097 
<a name="l00108"></a><a class="code" href="group___p_h_p.html#g39bf7a734e5f6e99df4337784d29d6ac">00108</a> function <a class="code" href="group___p_h_p.html#g39bf7a734e5f6e99df4337784d29d6ac" title="Function getTerminatedLessonCnt.">getTerminatedLessonCnt</a>($curID,$bookArr) {
<a name="l00109"></a>00109   global $startdate,$enddate;
<a name="l00110"></a>00110   $cnt = 0;
<a name="l00111"></a>00111   <span class="keywordflow">for</span>($i=0;$i&lt;count($bookArr);$i++) {
<a name="l00112"></a>00112     <span class="keywordflow">if</span>($bookArr[$i][0]==$curID<span class="comment">/* &amp;&amp; $bookArr[$i][1]&gt;=$startdate &amp;&amp; $bookArr[$i][1]&lt;=$enddate*/</span>) $cnt++;
<a name="l00113"></a>00113   }
<a name="l00114"></a>00114   <span class="keywordflow">return</span> $cnt;
<a name="l00115"></a>00115 }
<a name="l00116"></a>00116 
<a name="l00128"></a><a class="code" href="group___p_h_p.html#g57f7a849b8916adee4a2b1bcc3befdc5">00128</a> function <a class="code" href="group___p_h_p.html#g57f7a849b8916adee4a2b1bcc3befdc5" title="Function getContrastColor.">getContrastColor</a>($r,$g,$b) {
<a name="l00129"></a>00129   $r = ($r&gt;150)?0:255;
<a name="l00130"></a>00130   $g = ($g&gt;150)?0:255;
<a name="l00131"></a>00131   $b = ($b&gt;150)?0:255;
<a name="l00132"></a>00132 
<a name="l00133"></a>00133   <span class="keywordflow">return</span> $r.<span class="stringliteral">","</span>.$g.<span class="stringliteral">","</span>.$b;
<a name="l00134"></a>00134 }
<a name="l00135"></a>00135 
<a name="l00147"></a><a class="code" href="group___p_h_p.html#gf1ff3fc0cc5d9de4795c25d6421fd0ec">00147</a> function <a class="code" href="group___p_h_p.html#gf1ff3fc0cc5d9de4795c25d6421fd0ec" title="Function isRoomAndTimeUsed.">isRoomAndTimeUsed</a>($room_nr,$time,$roomsArr) {
<a name="l00148"></a>00148   <span class="keywordflow">for</span>($i=0;$i&lt;count($roomsArr);$i++) {
<a name="l00149"></a>00149     <span class="keywordflow">if</span>($roomsArr[$i][0]==$room_nr &amp;&amp; $roomsArr[$i][1]==$time) <span class="keywordflow">return</span> $i;
<a name="l00150"></a>00150   }
<a name="l00151"></a>00151   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00152"></a>00152 }
<a name="l00153"></a>00153 
<a name="l00164"></a><a class="code" href="group___p_h_p.html#ga16eb0e0b86a8e6d745900111377f9cb">00164</a> function <a class="code" href="group___p_h_p.html#ga16eb0e0b86a8e6d745900111377f9cb" title="Function getTranslation.">getTranslation</a>($id,$lang) {
<a name="l00165"></a>00165   $rs = mysql_query(<span class="stringliteral">"SELECT lan_txt FROM language WHERE ID='"</span>.$id.<span class="stringliteral">"' AND lan_id='"</span>.$lang.<span class="stringliteral">"'"</span>);
<a name="l00166"></a>00166   <span class="keywordflow">return</span> @mysql_result($rs,0);
<a name="l00167"></a>00167 }
<a name="l00168"></a>00168 ?&gt;
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jul 22 11:16:46 2008 for University Scheduling System by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
